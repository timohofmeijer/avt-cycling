import { CalendarEvent } from '@/types/calendar'
import { getSunset } from '@/utils/sunsetCalculator'

// Helper function to format sunset time as HH:mm
function formatSunsetTime(date: string): string {
  const sunsetTime = getSunset(date, {
    latitude: 52.15517, // Amersfoort
    longitude: 5.3872, // Amersfoort
  })
  return sunsetTime.toLocaleTimeString('nl-NL', {
    hour: '2-digit',
    minute: '2-digit',
    hour12: false,
  })
}

const allCalendarEvents: CalendarEvent[] = [
  {
    date: '2025-03-31',
    title: 'Check je fiets',
    description: 'Clubhuis',
    type: 'event',
    startTime: '19:00',
    endTime: '20:00',
  },
  {
    date: '2025-04-02',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-02'),
  },
  {
    date: '2025-04-04',
    title: 'Wielerbaan Eemland',
    description: 'Fietsbeheersing',
    type: 'baan',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-04'),
  },
  {
    date: '2025-04-06',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-04-09',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-09'),
  },
  {
    date: '2025-04-11',
    title: 'Wielerbaan Eemland',
    description: 'Fietsbeheersing',
    type: 'baan',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-11'),
  },
  {
    date: '2025-04-16',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-16'),
  },
  {
    date: '2025-04-18',
    title: 'Wielerbaan Eemland',
    description: 'Rijden in de groep / Koers',
    type: 'baan',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-18'),
  },
  {
    date: '2025-04-23',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-23'),
  },
  {
    date: '2025-04-25',
    title: 'Wielerbaan Eemland',
    description: 'Rijden in de groep / Koers',
    type: 'baan',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-25'),
  },
  {
    date: '2025-04-28',
    title: 'Training',
    description: 'Bochten rijden in de groep',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-28'),
  },
  {
    date: '2025-04-30',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-04-30'),
  },
  {
    date: '2025-05-03',
    title: 'Toertocht',
    description: '80 km',
    type: 'event',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-05-05',
    title: 'Bevrijdingsdag',
    description: 'Geen training',
    type: 'cancelled',
  },
  {
    date: '2025-05-07',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-07'),
  },
  {
    date: '2025-05-11',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-05-12',
    title: 'Training',
    description: 'Klimtraining',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-12'),
  },
  {
    date: '2025-05-14',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-14'),
  },
  {
    date: '2025-05-18',
    title: 'Enschede',
    description: 'Eerste divisie',
    isTriEvent: true,
    type: 'triathlon',
  },
  {
    date: '2025-05-19',
    title: 'Training',
    description: 'Intervaltraining (blokken)',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-19'),
  },
  {
    date: '2025-05-21',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-21'),
  },
  {
    date: '2025-05-26',
    title: 'Training',
    description: 'Krachttraining',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-26'),
  },
  {
    date: '2025-05-28',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-05-28'),
  },
  {
    date: '2025-06-01',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-06-02',
    title: 'Training',
    description: 'Waaiers',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-02'),
  },
  {
    date: '2025-06-04',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-04'),
  },
  {
    date: '2025-06-07',
    title: 'Toertocht',
    description: '100 km',
    type: 'event',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-06-08',
    title: 'Pinksteren',
    description: 'GEEN TRAINING',
    type: 'cancelled',
  },
  {
    date: '2025-06-09',
    title: 'Pinksteren',
    description: 'GEEN TRAINING',
    type: 'cancelled',
  },
  {
    date: '2025-06-11',
    title: 'Groepsrit',
    description: 'Midzomernacht! Langste tocht',
    type: 'event',
  },
  {
    date: '2025-06-15',
    title: 'Groningen',
    description: 'Derde divisie',
    isTriEvent: true,
    type: 'triathlon',
  },
  {
    date: '2025-06-16',
    title: 'Training',
    description: 'Klimtraining',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-16'),
  },
  {
    date: '2025-06-18',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-18'),
  },
  {
    date: '2025-06-22',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-06-23',
    title: 'Training',
    description: 'Bochtentechniek',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-23'),
  },
  {
    date: '2025-06-25',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-25'),
  },
  {
    date: '2025-06-29',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-06-30',
    title: 'Training',
    description: 'Intervaltraining (blokken)',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-06-30'),
  },
  {
    date: '2025-07-02',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-02'),
  },
  {
    date: '2025-07-05',
    title: 'Toertocht',
    description: '120 km',
    type: 'event',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-07-07',
    title: 'Training',
    description: 'Waaiers',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-07'),
  },
  {
    date: '2025-07-09',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-09'),
  },
  {
    date: '2025-07-13',
    title: 'Voorst',
    description: 'Eerste en derde divisie',
    isTriEvent: true,
    type: 'triathlon',
  },
  {
    date: '2025-07-14',
    title: 'Training',
    description: 'Vrij in te vullen',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-14'),
  },
  {
    date: '2025-07-16',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-16'),
  },
  {
    date: '2025-07-20',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-07-21',
    title: 'Training',
    description: 'Vrij in te vullen',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-21'),
  },
  {
    date: '2025-07-23',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-23'),
  },
  {
    date: '2025-07-28',
    title: 'Training',
    description: 'Vrij in te vullen',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-28'),
  },
  {
    date: '2025-07-30',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-07-30'),
  },
  {
    date: '2025-08-02',
    title: 'Toertocht',
    description: '120 km',
    type: 'event',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-08-04',
    title: 'Training',
    description: 'Intervaltraining (blokken)',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-04'),
  },
  {
    date: '2025-08-06',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-06'),
  },
  {
    date: '2025-08-11',
    title: 'Training',
    description: 'Waaiers',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-11'),
  },
  {
    date: '2025-08-13',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-13'),
  },
  {
    date: '2025-08-18',
    title: 'Training',
    description: 'Klimtraining',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-18'),
  },
  {
    date: '2025-08-20',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-20'),
  },
  {
    date: '2025-08-25',
    title: 'Training',
    description: 'Intervaltraining (blokken)',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-25'),
  },
  {
    date: '2025-08-27',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-08-27'),
  },
  {
    date: '2025-09-01',
    title: 'Training',
    description: 'Vrij in te vullen',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-09-01'),
  },
  {
    date: '2025-09-03',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-09-03'),
  },
  {
    date: '2025-09-06',
    title: 'Toertocht',
    description: 'Posbank',
    type: 'event',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-09-08',
    title: 'Training',
    description: 'Vrij in te vullen',
    type: 'training',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-09-08'),
  },
  {
    date: '2025-09-10',
    title: 'Groepsrit',
    type: 'groupride',
    startTime: '19:00',
    endTime: formatSunsetTime('2025-09-10'),
  },
  {
    date: '2025-09-14',
    title: 'Sunday Fast Ride',
    type: 'fastride',
    startTime: '09:00',
    endTime: '12:00',
  },
  {
    date: '2025-09-15',
    title: 'Tijdrit',
    description: '1km vliegbasis',
    type: 'event',
  },
]

export const getUpcomingEvents = (): CalendarEvent[] => {
  const today = new Date()
  today.setHours(0, 0, 0, 0)

  return allCalendarEvents.filter((event) => {
    const eventDate = new Date(event.date)
    return eventDate >= today && event.type !== 'triathlon'
  })
}

export const calendarEvents = getUpcomingEvents()
